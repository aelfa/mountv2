#!/usr/bin/with-contenv bash
# shellcheck shell=bash
# Copyright (c) 2020, MrDoob
# All rights reserved.
## function source
function log() {
echo "[Mount] ${1}"
}
log "-> Setting Permissions || start <-"
chown -hR abc:abc  \
          /config \
          /mnt \
          /config/rclone \
          /config/env \
          /root

chmod a+x /app/functions/functions.sh \
          /app/update-alpine/update-alpine.sh \
          /app/startupp-mounts.sh \
          /app/checkmounts.sh \
          /app/mountsize/mountsize.sh \
          /app/vfs/vfsrefresh.sh 

chown -hR abc:abc /app/functions/functions.sh \
          /app/update-alpine/update-alpine.sh \
          /app/startupp-mounts.sh \
          /app/checkmounts.sh \
          /app/mountsize/mountsize.sh \
          /app/vfs/vfsrefresh.sh

chown -R abc:abc /run \
          /var/lib/nginx \
          /var/log/nginx \
          /var/www

if [[ $(command -v rclone | wc -l) == "1" ]]; then
    chown -cf abc:abc /root
fi
log "-> Setting Permissions || done <-"
#EOF
